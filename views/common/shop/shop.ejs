<%- include('../../common/include/header.ejs') %>
<body id="review">
    <div class="container" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <section class="section_01 shop_section01">
            <img class="main_web_top" src="/public/img/san/shop_top.png">
            <img class="main_mobile_top" src="/public/img/san/mobile/shop_mobile_top.png">
        </section>

        <section class="section_02 main_sec rec_3 news_section02">
            <span class="shop_section02_span">'산들정' 취급 상품</span>
            <div class="main_div">
                <div class="mgn_btm_project mgn_btm_border project_div">
                    <% list.forEach(function(shop) { %>
                        <div>
                            <a href="<%- shop.link %>">
                                <img src="<%= shop.thumbnail %>" id="thumbnail" />
                            </a>
                            <span class="main_bsec2_span_top" id="title"><%= shop.title %></span>
                            <span class="main_bsec2_span_btm" id="subtitle"><%= shop.subtitle %></span>
                        </div>
                    <% }); %>
                </div>
                <script>
                    // 페이지 로드가 완료되면 실행
                    document.addEventListener('DOMContentLoaded', function () {
                        // 모든 'shop_title' 요소를 찾음
                        const titles = document.querySelectorAll('#title');

                        // 각 타이틀에 대하여 길이 체크 및 수정
                        titles.forEach(function (title) {
                            if (title.innerText.length > 50) {
                                // 텍스트가 20자를 초과하면 20자로 자르고 '...' 추가
                                title.innerText = title.innerText.substring(0, 50) + '...';
                            }
                        });
                    });
                </script>
                <div class="sec2_btm_page">
                    <a class="sec2_btm_span"><</a>
                    <% for(let i = 1; i <= totalPages; i++) { %>
                        <a class="sec2_btm_span <%= i === currentPage ? 'sec2_btm_span_v2' : '' %>" id="page_btn_<%= i %>" href="/shop?page=<%= i %>">
                            <%= i %>
                        </a>
                    <% } %>
                    <a class="sec2_btm_span">></a>
                </div>
            </div>
        </section>
    </div>
</body>
<%- include('../../common/include/footer.ejs') %>